---
title: "Optional code"
format: html
editor: visual
---

## Visualization

```{r}
## RGB
par(col.axis = "white", col.lab = "white", tck = 0)
plotRGB(landsat.crop21,
     r = 4, g = 3, b = 2,
     stretch = "lin", 
     axes = TRUE,
     main = "RGB composite image\n Landsat Bands 4, 3, 2")
box(col = "white")

## Near infrared
par(col.axis = "white", col.lab = "white", tck = 0)
plotRGB(landsat.crop21,
     r = 5, g = 4, b = 3,
     stretch = "lin",
     axes = TRUE,
     main = "Color infrared composite image\n Landsat Bands 5, 4, 3")
box(col = "white")
```

```{r}
## NDVI
NDVIwolv <- (landsat.crop21[[5]]-landsat.crop21[[4]])/(landsat.crop21[[5]]+landsat.crop21[[4]])
NDVI.ter <- terra::rast(NDVIwolv)
#NDVIsmooth<- focal(NDVI.ter, w=5, fun= modal, na.policy= "all") #I think smoothing looks bad

plot(NDVIwolv,
     main ="NDVI of Wolverine Glacier Watershed",
     axes = FALSE, box = FALSE)

 hist(NDVIwolv)

#attempt to isolate just vegetation
veg <- clamp(NDVIwolv, 0.0, values=FALSE) 
plot(veg, main="Vegetation")
```

## Save land cover rasters

```{r}
#raster export
writeRaster(wolv.cover, filename = "wolvlandcov.asc", )

#pdf
pdf(filename ="wolvfiguretest2.pdf", 
         res= 72  
  )
raster::plot(wolv.cover,
     col= covcol, 
     axes=FALSE
    )
sbar(4000, xy="bottomright", type="bar",divs=4)
dev.off()

pdf(file ="shrubfig.pdf")
terra::plot(shrub.cover, 
     col= covcol, 
     axes=FALSE,
     legend=FALSE)
terra::sbar(1000, xy="bottomright", type="bar",divs=4)

pdf(file ="njfigure.pdf")
terra::plot(nj.cover, 
     col= covcol, 
     axes=FALSE, 
     legend= FALSE
     )
terra::sbar(10000, xy="bottomright", type="bar",divs=4)

pdf(file ="tundrafig.pdf")
terra::plot(tundra.cover, 
     col= covcol, 
     axes=FALSE,
     legend=FALSE)
terra::sbar(1000, xy="bottomright", type="bar",divs=4)

pdf(file ="glacierfig.pdf")
terra::plot(glacier.cover, 
     col= covcol, 
     axes=FALSE,
     legend=FALSE)
terra::sbar(1000, xy="bottomright", type="bar",divs=4)

pdf(file ="forestfig.pdf")
terra::plot(forest.cover, 
     col= covcol, 
     axes=FALSE,
     legend=FALSE)
terra::sbar(100, xy="bottomleft", type="bar",divs=4)
```

## 
